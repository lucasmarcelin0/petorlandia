{% extends "layout.html" %}

{% block main %}
<div class="container mt-4">
  <h2>Editar Consulta</h2>
  <form method="POST" class="js-appointment-form">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
    <div class="mb-3">
      <label for="date" class="form-label">Data</label>
      <input type="date" id="date" name="date" class="form-control" value="{{ appointment.scheduled_at.date() }}">
    </div>
    <div class="mb-3">
      <label for="time" class="form-label">Horário</label>
      <input type="time" id="time" name="time" class="form-control" value="{{ appointment.scheduled_at.strftime('%H:%M') }}">
    </div>
    <div class="mb-3">
      <label for="veterinario" class="form-label">Veterinário</label>
      <select id="veterinario" name="veterinario_id" class="form-select">
        {% for vet in veterinarios %}
          <option value="{{ vet.id }}" {% if vet.id == appointment.veterinario_id %}selected{% endif %}>
            {{ vet.user.name if vet.user else vet.id }}
          </option>
        {% endfor %}
      </select>
    </div>
    <button type="submit" class="btn btn-primary">Salvar</button>
    <a href="{{ url_for('appointments') }}" class="btn btn-secondary">Cancelar</a>
  </form>
</div>
{% endblock %}

{% block scripts %}
{{ super() }}
{% endblock %}
