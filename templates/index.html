{% extends "layout.html" %}
{% from 'macros/ui.html' import ui_card, ui_button %}

{% block main %}
<div class="container text-center py-5">

    {% if current_user.is_authenticated %}
        {% call ui_card(title="Bem-vindo(a)! O que voc√™ deseja fazer hoje?", variant='muted', extra_classes='shadow-sm mt-5 mb-4', padding='p-4') %}
            <div class="row justify-content-center g-4">
                <div class="col-md-3">
                    <lottie-player
                        class="lottie-illustration"
                        src="https://assets5.lottiefiles.com/packages/lf20_ghs9bthn.json"
                        background="transparent"
                        speed="1"
                        loop autoplay>
                    </lottie-player>
                    {{ ui_button(
                        'Cadastrar novo animal',
                        href=url_for('add_animal'),
                        variant='success',
                        outline=True,
                        icon_html='‚ûï',
                        block=True,
                        extra_classes='shadow-soft',
                        attrs={'data-bs-toggle': 'tooltip', 'title': 'Cadastre um novo animal na plataforma.'}
                    ) }}
                </div>
                <div class="col-md-3">
                    <lottie-player
                        class="lottie-illustration"
                        src="https://assets4.lottiefiles.com/packages/lf20_qp1q7mct.json"
                        background="transparent"
                        speed="1"
                        loop autoplay>
                    </lottie-player>
                    {{ ui_button(
                        'Ver todos os animais',
                        href=url_for('list_animals'),
                        variant='primary',
                        outline=True,
                        icon_html='üìã',
                        block=True,
                        extra_classes='shadow-soft',
                        attrs={'data-bs-toggle': 'tooltip', 'title': 'Veja todos os animais dispon√≠veis.'}
                    ) }}
                </div>
                <div class="col-md-3">
                    <lottie-player
                        class="lottie-illustration"
                        src="https://assets10.lottiefiles.com/packages/lf20_ksixj2kx.json"
                        background="transparent"
                        speed="1"
                        loop autoplay>
                    </lottie-player>
                    {{ ui_button(
                        'Plano de Sa√∫de Pet',
                        href=url_for('plano_saude_overview'),
                        variant='info',
                        outline=True,
                        icon_html='‚ù§Ô∏è',
                        block=True,
                        extra_classes='shadow-soft',
                        attrs={'data-bs-toggle': 'tooltip', 'title': 'Conhe√ßa nosso plano de sa√∫de para pets.'}
                    ) }}
                </div>
                <div class="col-md-3">
                    <lottie-player
                        class="lottie-illustration"
                        src="https://assets10.lottiefiles.com/packages/lf20_sGqAqL.json"
                        background="transparent"
                        speed="1"
                        loop autoplay>
                    </lottie-player>
                    {{ ui_button(
                        'Loja Pet',
                        href=url_for('loja'),
                        variant='primary',
                        icon_html='üõçÔ∏è',
                        block=True,
                        extra_classes='loja-pet-filled shadow-soft',
                        attrs={'data-bs-toggle': 'tooltip', 'title': 'Acesse nossa loja para encontrar tudo que seu pet precisa.'}
                    ) }}
                </div>
            </div>
        {% endcall %}
    {% else %}
        {% call ui_card(variant='surface', extra_classes='shadow-lg mt-5', padding='p-5') %}
            <div class="text-center">
                <img src="{{ url_for('static', filename='logo_pet.png') }}"
                     alt="Logo PetOrl√¢ndia"
                     class="mb-4 logo-img mx-auto">
            </div>
            <p class="lead">
                PetOrl√¢ndia √© um espa√ßo completo para quem ama e cuida dos animais. Aqui voc√™ pode adotar, doar, agendar atendimentos veterin√°rios e encontrar tudo o que seu pet precisa ‚Äî com carinho, responsabilidade e praticidade.
            </p>
            <div class="d-flex flex-wrap justify-content-center gap-3 mt-4">
                {{ ui_button('Criar Conta', href=url_for('register'), variant='success', outline=True, icon='bi bi-person-plus', extra_classes='shadow-soft') }}
                {{ ui_button('Entrar', href=url_for('login_view'), variant='primary', outline=True, icon='bi bi-shield-lock', extra_classes='shadow-soft') }}
            </div>
        {% endcall %}
    {% endif %}

    {% if current_user.is_authenticated and (current_user.worker == 'colaborador' or is_active_veterinarian) %}
        {% call ui_card(title='√Årea profissional', extra_classes='shadow-lg mb-5', padding='p-4') %}
            <div class="d-flex flex-wrap justify-content-center gap-3">
                {{ ui_button('Animais', href=url_for('novo_animal'), variant='primary', outline=True, icon_html='üê∂', extra_classes='shadow-soft', attrs={'data-bs-toggle': 'tooltip', 'title': 'Gerencie os animais vinculados a tutores.'}) }}
                {{ ui_button('Tutores', href=url_for('tutores'), variant='secondary', outline=True, icon_html='üë•', extra_classes='shadow-soft', attrs={'data-bs-toggle': 'tooltip', 'title': 'Veja os tutores cadastrados.'}) }}
                {% if current_user.worker == 'colaborador' or (is_active_veterinarian and current_user.veterinario) %}
                    {{ ui_button('Agenda', href=url_for('appointments'), variant='warning', outline=True, icon_html='üóìÔ∏è', extra_classes='shadow-soft', attrs={'data-bs-toggle': 'tooltip', 'title': 'Administre sua agenda de atendimentos.'}) }}
                {% endif %}
            </div>
        {% endcall %}
    {% endif %}

    {% if current_user.is_authenticated and current_user.worker == 'delivery' %}
        {% call ui_card(title='√Årea de Entregas', extra_classes='shadow-lg mb-5', padding='p-4') %}
            <div class="d-flex flex-wrap justify-content-center gap-3">
                {{ ui_button('Solicita√ß√µes', href=url_for('list_delivery_requests'), variant='secondary', outline=True, icon_html='üöö', extra_classes='shadow-soft') }}
            </div>
        {% endcall %}
    {% endif %}
</div>
{% endblock %}
