{% extends "layout.html" %}
{% block main %}
<div class="container my-5 d-flex justify-content-center">
  <div class="col-lg-8 bg-white shadow rounded-4 p-5 border">

    <h2 class="fw-bold mb-3 text-center">Status do pagamento</h2>

    {% if result in ['success', 'completed'] %}
      <div class="alert alert-success text-center">
        <i class="bi bi-check-circle-fill me-2"></i>
        Pagamento aprovado! Seu pedido já está em preparação.
      </div>
    {% elif result in ['failure', 'failed'] %}
      <div class="alert alert-danger text-center">
        <i class="bi bi-x-circle-fill me-2"></i>
        O pagamento foi recusado ou cancelado.
      </div>
    {% else %}
      <div class="alert alert-warning text-center">
        <i class="bi bi-hourglass-split me-2"></i>
        Estamos aguardando a confirmação do pagamento.
      </div>
    {% endif %}

    <dl class="row mb-4">

      <dt class="col-sm-4">ID da transação:</dt>
      <dd class="col-sm-8">{{ payment.transaction_id }}</dd>

      <dt class="col-sm-4">Status interno:</dt>
      <dd class="col-sm-8">{{ payment.status.name }}</dd>
    </dl>

    <div class="d-flex justify-content-center gap-3">

{% if req_id %}
  <a href="{{ url_for(req_endpoint, req_id=req_id) }}"
     class="btn btn-primary">
     <i class="bi bi-truck me-1"></i> Acompanhar pedido
  </a>
{% endif %}



      <a href="{{ url_for('loja') }}" class="btn btn-outline-secondary">
        <i class="bi bi-shop me-1"></i> Voltar à loja
      </a>
    </div>
  </div>
</div>
{% endblock %}







